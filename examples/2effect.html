<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <title>Document</title>
</head>

<body>
  <div style="margin-left: 100px" id="app"></div>
  <script src="../packages/reactivity/dist/reactivity.global.js"></script>
  <script>
    let {
      reactive,
      effect
    } = VueReactivity
    const app = document.getElementById("app")
    const obj = reactive({
      name: "张三",
      age: 16,
      sex: 1,
      list: [1, 2],
    })
    // effect(() => {
    //   // 执行get方法
    //   app.innerHTML = obj.name // 收集effect1
    //   effect(() => {
    //     obj.age // 收集effect2
    //   })
    //   obj.sex // 收集effect1
    //   console.log(500)
    // })
    // effect(() => {
    //   obj.name
    // })
    effect(() => {
      app.innerHTML = obj.name + obj.list[3]
    })
    // console.log(obj, obj.list)
    setTimeout(() => {
      // obj.high = 140
      obj.name = "hhhhh"
      // obj.list[1] = 7
      obj.list.length = 2
    }, 100)
  </script>
</body>

</html>